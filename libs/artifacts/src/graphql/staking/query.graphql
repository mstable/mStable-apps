# import './fragments.graphql'

query Staking($account: ID!, $hasAccount: Boolean!) {
  stakedToken(id: "StakedToken") {
    address
    token {
      ...TokenAll
    }
    stakingToken {
      ...TokenAll
    }
    stakingRewards {
      DURATION
      periodFinish
      lastUpdateTime
      rewardRate
      rewardPerTokenStored
      rewardsToken {
        ...TokenAll
      }
      rewardsTokenVendor
      rewardsDistributor
      pendingAdditionalReward
    }
    questSigner
    UNSTAKE_WINDOW
    COOLDOWN_SECONDS
    COOLDOWN_PERCENTAGE_SCALE
    collateralisationRatio
    slashingPercentage
    season {
      id
      endedAt
      startedAt
      seasonNumber
    }
  }
  accounts(where: { id: $account }) @include(if: $hasAccount) {
    id
    delegatee {
      id
    }
    rewardPerTokenPaid
    rewards
    delegators {
      id
    }
    completedQuests {
      id
    }
    cooldownTimestamp
    cooldownPercentage
    balance {
      lastAction
      permMultiplier
      timeMultiplier
      seasonMultiplier
      cooldownMultiplier
      raw
      rawBN @client
      votes
      votesBN @client
      weightedTimestamp
    }
  }
  quests {
    id
  }
}
