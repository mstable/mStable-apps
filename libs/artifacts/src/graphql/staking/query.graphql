# import './fragments.graphql'

query Staking($account: Bytes!, $hasAccount: Boolean!) {
  stakedTokens {
    id
    token {
      ...TokenAll
    }
    stakingToken {
      ...TokenAll
    }
    stakingRewards {
      DURATION
      periodFinish
      lastUpdateTime
      rewardRate
      rewardPerTokenStored
      rewardsToken {
        ...TokenAll
      }
      rewardsTokenVendor
      rewardsDistributor
      pendingAdditionalReward
    }
    questMaster
    UNSTAKE_WINDOW
    COOLDOWN_SECONDS
    collateralisationRatio
    slashingPercentage
    season {
      id
      endedAt
      startedAt
      seasonNumber
    }
    accounts(where: { address: $account }) @include(if: $hasAccount) {
      id
      delegatee {
        id
      }
      rewardPerTokenPaid
      rewards
      delegators {
        id
      }
      completedQuests {
        id
      }
      cooldownTimestamp
      cooldownPercentage
      balance {
        lastAction
        permMultiplier
        timeMultiplier
        seasonMultiplier
        raw
        votes
        weightedTimestamp
        rawBD @client
        votesBD @client
      }
    }
  }
  quests {
    id
  }
}
